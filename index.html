<!doctype html>
<html lang="en" ng-app="angularTable">
  <head>
    <meta charset="utf-8">
    <title>Incidets board</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" class="ui" href="css/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
  </head>
  <body>
	<div role="main" class="container theme-showcase modal-inident">
      <div class="" style="margin-top:20px;">
        <div class="col-lg-12">
			<div class="page-header">
				<h2 id="tables">Incidents</h2>
			</div>
            <div class="ui segment">
	            <div class="ui two stackable cards">
	              <div class="card">
		            <div class="content" ng-controller="doughnutchart">
			            <h2 class="header">Incidents by state</h2>
			            <div class="ui divider"></div>
			            <table>
				            <tr>
				            <td><canvas id="doughnut" class="chart chart-doughnut" chart-data="data" chart-colors="colors" 
                                chart-labels="labels" chart-options="options" chart-dataset-override="datasetOverride" style="width: 500px; height: 250px;">
				                </canvas>
				            </td>
				            <td class="chartData">
                                <table class="ui very basic table">
                                    <tbody>
                                        <tr ng-repeat="item in chartData">
							                <td><i ng-style="{ color: item.color }" class="icon square"></i>{{item.lable}}</td>
							                <td>{{item.data}}</td>
						                </tr>
                                    </tbody>
				                 </table></td>
				            </tr>
			            </table>
		            </div>			
	              </div>
                  <div class="card">
		            <div class="content" ng-controller="linechart">
			            <h2 class="header">Incidents Over Time</h2>
			            <div class="ui divider"></div>
			            <canvas id="base" class="chart chart-line" chart-data="data" 
                                chart-labels="labels" chart-options="options" chart-dataset-override="datasetOverride"></canvas>
		            </div>			
	              </div>	  
	            </div>
            </div>
			<div class="bs-component" ng-controller="listdata">
				<form class="form-inline">
					<div class="form-group">
						<label >Search</label>
						<input type="text" ng-model="search" class="form-control" placeholder="Search by all values">
					</div>
				</form>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th ng-click="sort('number')">Number
								<span class="glyphicon sort-icon" ng-show="sortKey=='number'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
							</th>
							<th ng-click="sort('urgency')">Urgency
								<span class="glyphicon sort-icon" ng-show="sortKey=='urgency'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
							</th>
							<th ng-click="sort('caller_id')">Caller
								<span class="glyphicon sort-icon" ng-show="sortKey=='caller_id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
							</th>
							<th ng-click="sort('opened_at')">Opened
								<span class="glyphicon sort-icon" ng-show="sortKey=='opened_at'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
							</th>
                            <th ng-click="sort('state')">State
								<span class="glyphicon sort-icon" ng-show="sortKey=='state'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-click="open(incident)" dir-paginate="incident in incidents|orderBy:sortKey:reverse|filter:search|itemsPerPage:10">
							<td>{{incident.number}}</td>
							<td>{{incident.urgency}}</td>
							<td>{{incident.caller_id}}</td>
							<td>{{incident.opened_at}}</td>
                            <td>{{incident.state}}</td>
						</tr>
					</tbody>
				</table> 
				<dir-pagination-controls
					max-size="5"
					direction-links="true"
					boundary-links="true" >
				</dir-pagination-controls>
                <div class="modal-parent">
                </div>
			</div>
		</div>
      </div>
    </div>
    <script type="text/ng-template" id="incidentInfoContent.html">
        <div class="modal-header">
            <div class="pull-left">
                <h3>Incident info:</h3>
            </div>
            <div class="pull-right">
                <button ng-click="$ctrl.Resolve()" class="btn btn-secondary">Resolve</button>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="modal-body" id="modal-body">
            <div>
                <ul class="incident-info">
                    <li><label>Number</label><span>{{$ctrl.incident.number}}</span></li>
                    <li><label>Caller</label><span>{{$ctrl.incident.caller_id}}</span></li>
                    <li><label>Opened</label><span>{{$ctrl.incident.opened_at}}</span></li>
                    <li><label>State</label><span>{{$ctrl.incident.state}}</span></li>
                    <li><label>Urgency</label><span>{{$ctrl.incident.urgency}}</span></li>
                    <li><label>Description</label><span>{{$ctrl.incident.description}}</span></li>
                </ul>
            </div>
        </div>
    </script>
		<script src="lib/angular161/angular.min.js"></script>
        <script src="lib/chart/Chart.min.js"></script>
        <script src="lib/angular161/angular-chart.min.js"></script>
        <script src="lib/angular161/angular-animate.min.js"></script>
        <script src="lib/angular161/angular-sanitize.min.js"></script>
        <script src="lib/angular161/ui-bootstrap-tpls-2.5.0.js"></script>
		<script src="lib/dirPagination.js"></script>
		<script src="app/app.js"></script>
  </body>
</html>
